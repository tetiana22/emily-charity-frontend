{"version":3,"file":"main.js","sources":["../src/api.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://emily-charity.onrender.com/';\nconst TOKEN = 'Bearer sandbox_QbpEJylc3XRJ4iE8qe1axWfIGQ4k_H_bxfs3lkQt';\n\n// General function for API requests\nconst apiRequest = async (endpoint, method, body) => {\n  try {\n    const response = await fetch(`${BASE_URL}${endpoint}`, {\n      method,\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: TOKEN,\n      },\n      body: body ? JSON.stringify(body) : undefined,\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error(`Error with ${endpoint}:`, error);\n    throw error;\n  }\n};\n\nexport const createPayPalOrder = amount =>\n  apiRequest('/create-paypal-order', 'POST', { amount });\n\nexport const createGoCardlessBillingRequest = (\n  email,\n  givenName,\n  familyName,\n  amount\n) =>\n  apiRequest('/create-billing-request', 'POST', {\n    email,\n    given_name: givenName,\n    family_name: familyName,\n    amount,\n  }).then(data => data.billing_requests.id);\n\nexport const createGoCardlessBillingRequestFlow = billingRequestId =>\n  apiRequest('/create-billing-request-flow', 'POST', { billingRequestId }).then(\n    data => data.billing_request_flows.authorisation_url\n  );\n","// main.js\n\nimport {\n  createPayPalOrder,\n  createGoCardlessBillingRequest,\n  createGoCardlessBillingRequestFlow,\n} from './api.js';\nimport './css/styles.css';\n\nlet scrollPosition = 0;\nlet amount = '';\nlet paymentMethod = '';\nlet modalContentBackup = null;\n\nexport function initializeDonationPage() {\n  window.selectAmount = selectAmount;\n  window.continueToDetails = continueToDetails;\n  window.setPaymentMethod = setPaymentMethod;\n  window.handleSubmit = handleSubmit;\n  window.openModal = openModal;\n  window.closeModal = closeModal;\n\n  const modal = document.getElementById('payment-modal');\n  const closeBtn = document.querySelector('.close');\n\n  if (modal && closeBtn) {\n    closeBtn.addEventListener('click', closeModal);\n    modal.addEventListener('click', event => {\n      if (event.target === modal) closeModal();\n    });\n  } else {\n    console.error('Modal or close button element not found.');\n  }\n\n  setupMenu();\n}\n\nfunction setupMenu() {\n  const burgerMenu = document.querySelector('.burger-menu');\n  const mobileNav = document.querySelector('.mobile-nav');\n  const overlay = document.querySelector('.overlay');\n\n  if (burgerMenu && mobileNav && overlay) {\n    burgerMenu.addEventListener('click', () => {\n      mobileNav.classList.toggle('show');\n      overlay.classList.toggle('show');\n    });\n\n    overlay.addEventListener('click', () => {\n      mobileNav.classList.remove('show');\n      overlay.classList.remove('show');\n    });\n\n    window.addEventListener('resize', () => {\n      if (window.innerWidth > 760) {\n        mobileNav.classList.remove('show');\n        overlay.classList.remove('show');\n      }\n    });\n  }\n}\n\nexport function selectAmount(selectedAmount) {\n  amount = selectedAmount;\n  document.getElementById('custom-amount').value = amount;\n  const buttons = document.querySelectorAll('#amount-selection .btn');\n  buttons.forEach(btn =>\n    btn.classList.toggle(\n      'active',\n      btn.textContent.includes(`£${selectedAmount}`)\n    )\n  );\n}\n\nexport function continueToDetails() {\n  const customAmount = document.getElementById('custom-amount').value;\n  amount = customAmount || amount;\n  if (amount) {\n    document.getElementById('amount-selection').classList.add('hidden');\n    openModal();\n  } else {\n    document.getElementById('amount-message').textContent =\n      'Please select or enter an amount.';\n  }\n}\n\nfunction handleModalEvent(event) {\n  if (\n    event.key === 'Escape' ||\n    event.target.matches('.payment-modal, .payment-modal .close')\n  ) {\n    closeModal();\n  }\n}\n\nexport function openModal() {\n  const modal = document.getElementById('payment-modal');\n  const paymentMessage = document.getElementById('payment-message');\n\n  if (modal) {\n    if (!modalContentBackup) {\n      modalContentBackup = modal.cloneNode(true);\n    }\n    if (paymentMessage) {\n      paymentMessage.textContent = '';\n    }\n    scrollPosition = window.pageYOffset;\n    modal.style.display = 'block';\n    document.getElementById('payment-details').classList.remove('hidden');\n    document.addEventListener('keydown', handleModalEvent);\n    window.addEventListener('click', handleModalEvent);\n  } else {\n    console.error('Modal element not found.');\n  }\n}\n\nexport async function closeModal() {\n  const modal = document.getElementById('payment-modal');\n  if (modal) {\n    modal.style.display = 'none';\n    document.body.classList.remove('no-scroll');\n    document.removeEventListener('keydown', handleModalEvent);\n    window.removeEventListener('click', handleModalEvent);\n\n    const paymentButtons = document.querySelectorAll('#paypal, #gocardless');\n    paymentButtons.forEach(btn => {\n      btn.classList.remove('hidden', 'active');\n    });\n\n    const form = document.getElementById('donation-form');\n    if (form) {\n      form.reset();\n      form.classList.add('hidden');\n    }\n\n    const title = document.querySelector('#payment-details .title');\n    if (title) title.classList.remove('hidden');\n    document.getElementById('custom-amount').value = '';\n  } else {\n    console.error('Modal element not found.');\n  }\n}\n\nexport function setPaymentMethod(method) {\n  paymentMethod = method;\n  const paymentButtons = document.querySelectorAll('#paypal, #gocardless');\n  paymentButtons.forEach(btn => {\n    btn.classList.toggle('active', btn.id === method);\n    btn.classList.toggle('hidden', btn.id !== method);\n  });\n\n  const form = document.getElementById('donation-form');\n  const title = document.querySelector('#payment-details .title');\n\n  if (form) form.classList.remove('hidden');\n  if (title) title.classList.add('hidden');\n}\n\nexport async function handleSubmit(event) {\n  event.preventDefault();\n\n  const email = document.getElementById('email').value;\n  const givenName = document.getElementById('given-name').value;\n  const familyName = document.getElementById('family-name').value;\n  const paymentMessage = document.getElementById('payment-message');\n  const customAmountInput = document.getElementById('custom-amount').value;\n\n  amount = customAmountInput || amount;\n\n  if (!givenName || !email) {\n    paymentMessage.textContent = 'Please enter both your name and email.';\n    return;\n  }\n\n  const donationAmount = parseFloat(amount);\n  if (isNaN(donationAmount) || donationAmount <= 0) {\n    paymentMessage.textContent = 'Please enter a valid amount.';\n    return;\n  }\n\n  if (!paymentMethod) {\n    paymentMessage.textContent = 'Please select a payment method.';\n    return;\n  }\n\n  try {\n    if (paymentMethod === 'paypal') {\n      const response = await createPayPalOrder(donationAmount.toFixed(2));\n      const approvalLink = response.links?.find(\n        link => link.rel === 'approve'\n      )?.href;\n      if (approvalLink) {\n        window.location.href = approvalLink;\n      } else {\n        throw new Error('Approval link not found in PayPal response.');\n      }\n    } else if (paymentMethod === 'gocardless') {\n      const billingRequestId = await createGoCardlessBillingRequest(\n        email,\n        givenName,\n        familyName,\n        donationAmount\n      );\n      const redirectUrl = await createGoCardlessBillingRequestFlow(\n        billingRequestId\n      );\n      paymentMessage.innerHTML = `\n        <div>\n          <p>Click the link below to complete your donation of £${donationAmount}: <br>\n          <a href=\"${redirectUrl}\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"color: blue;\" onclick=\"closeModal()\">Complete Donation</a></p>\n        </div>`;\n    }\n  } catch (error) {\n    console.error('Error:', error.message || error);\n    paymentMessage.textContent =\n      'Error processing donation. Please try again later.';\n  }\n}\n\n/* Counter */\ndocument.addEventListener('DOMContentLoaded', () => {\n  const counters = document.querySelectorAll('.count');\n\n  function animateCounter(counter, target) {\n    let count = 0;\n    const speed = 200;\n    const isCurrency = counter\n      .closest('.raised-info-each')\n      .querySelector('span')\n      .textContent.startsWith('£');\n\n    const interval = setInterval(() => {\n      count += Math.ceil(target / speed);\n      if (count >= target) {\n        count = target;\n        clearInterval(interval);\n      }\n      counter.textContent = isCurrency\n        ? `£ ${count.toLocaleString()}`\n        : count.toLocaleString();\n    }, 1);\n  }\n\n  function handleScroll() {\n    const scrollPosition = window.innerHeight + window.scrollY;\n    counters.forEach(counter => {\n      const rect = counter.getBoundingClientRect();\n      if (\n        rect.top < scrollPosition &&\n        !counter.classList.contains('animated')\n      ) {\n        const target = parseInt(\n          counter.parentElement.getAttribute('data-target')\n        );\n        animateCounter(counter, target);\n        counter.classList.add('animated');\n      }\n    });\n  }\n\n  window.addEventListener('scroll', handleScroll);\n  handleScroll();\n});\n\n/* Lightbox */\ndocument.addEventListener('DOMContentLoaded', () => {\n  const slides = document.querySelector('.slides');\n  const images = slides.querySelectorAll('img');\n  const prev = document.querySelector('.prev');\n  const next = document.querySelector('.next');\n  const lightbox = document.getElementById('lightbox');\n  const lightboxImg = document.querySelector('.lightbox-content');\n  const closeLightbox = document.querySelector('.lightbox .close');\n  const indicators = document.querySelector('.indicators');\n  let currentIndex = 0;\n  let slideInterval;\n\n  images.forEach((img, index) => {\n    const dot = document.createElement('span');\n    dot.classList.add('dot');\n    dot.addEventListener('click', () => goToSlide(index));\n    indicators.appendChild(dot);\n  });\n\n  const dots = indicators.querySelectorAll('.dot');\n\n  function updateSlidePosition() {\n    slides.style.transform = `translateX(-${currentIndex * 100}%)`;\n    dots.forEach(dot =>\n      dot.classList.toggle(\n        'active',\n        dot.classList.contains('dot') && dot === dots[currentIndex]\n      )\n    );\n  }\n\n  function goToPrevSlide() {\n    currentIndex = currentIndex === 0 ? images.length - 1 : currentIndex - 1;\n    updateSlidePosition();\n    resetSlideShow();\n  }\n\n  function goToNextSlide() {\n    currentIndex = currentIndex === images.length - 1 ? 0 : currentIndex + 1;\n    updateSlidePosition();\n    resetSlideShow();\n  }\n\n  function goToSlide(index) {\n    currentIndex = index;\n    updateSlidePosition();\n    resetSlideShow();\n  }\n\n  function openLightbox(index) {\n    currentIndex = index;\n    lightbox.style.display = 'block';\n    lightboxImg.src = images[currentIndex].src;\n  }\n\n  function showNextImage() {\n    currentIndex = currentIndex === images.length - 1 ? 0 : currentIndex + 1;\n    lightboxImg.src = images[currentIndex].src;\n  }\n\n  function showPrevImage() {\n    currentIndex = currentIndex === 0 ? images.length - 1 : currentIndex - 1;\n    lightboxImg.src = images[currentIndex].src;\n  }\n\n  function startSlideShow() {\n    slideInterval = setInterval(goToNextSlide, 3000);\n  }\n\n  function resetSlideShow() {\n    clearInterval(slideInterval);\n    startSlideShow();\n  }\n\n  prev.addEventListener('click', goToPrevSlide);\n  next.addEventListener('click', goToNextSlide);\n  closeLightbox.addEventListener(\n    'click',\n    () => (lightbox.style.display = 'none')\n  );\n  window.addEventListener('click', event => {\n    if (event.target === lightbox) lightbox.style.display = 'none';\n  });\n\n  document.addEventListener('keydown', event => {\n    if (lightbox.style.display === 'block') {\n      if (event.key === 'ArrowRight') showNextImage();\n      if (event.key === 'ArrowLeft') showPrevImage();\n      if (event.key === 'Escape') lightbox.style.display = 'none';\n    } else {\n      if (event.key === 'ArrowLeft') goToPrevSlide();\n      if (event.key === 'ArrowRight') goToNextSlide();\n    }\n  });\n\n  images.forEach((img, index) => {\n    img.addEventListener('click', () => openLightbox(index));\n  });\n\n  startSlideShow();\n});\n\n/* Lazy Loading */\ndocument.addEventListener('DOMContentLoaded', () => {\n  const lazyImages = document.querySelectorAll('img.lazy');\n\n  if ('IntersectionObserver' in window) {\n    const imageObserver = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          const image = entry.target;\n          image.src = image.dataset.src;\n          image.classList.remove('lazy');\n          imageObserver.unobserve(image);\n        }\n      });\n    });\n\n    lazyImages.forEach(image => imageObserver.observe(image));\n  } else {\n    lazyImages.forEach(image => {\n      image.src = image.dataset.src;\n      image.classList.remove('lazy');\n    });\n  }\n});\n\ndocument.addEventListener('DOMContentLoaded', initializeDonationPage);\n"],"names":["BASE_URL","TOKEN","apiRequest","endpoint","method","body","response","error","createPayPalOrder","amount","createGoCardlessBillingRequest","email","givenName","familyName","data","createGoCardlessBillingRequestFlow","billingRequestId","paymentMethod","modalContentBackup","initializeDonationPage","selectAmount","continueToDetails","setPaymentMethod","handleSubmit","openModal","closeModal","modal","closeBtn","event","setupMenu","burgerMenu","mobileNav","overlay","selectedAmount","btn","handleModalEvent","paymentMessage","form","title","donationAmount","approvalLink","_b","_a","link","redirectUrl","counters","animateCounter","counter","target","count","speed","isCurrency","interval","handleScroll","scrollPosition","slides","images","prev","next","lightbox","lightboxImg","closeLightbox","indicators","currentIndex","slideInterval","img","index","dot","goToSlide","dots","updateSlidePosition","goToPrevSlide","resetSlideShow","goToNextSlide","openLightbox","showNextImage","showPrevImage","startSlideShow","lazyImages","imageObserver","entries","entry","image"],"mappings":"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"}